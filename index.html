<!DOCTYPE html>
<html>
<head>
<title>Real-time translator</title>
</head>
<body>
<input type="button" id="record" value="翻訳開始">
<input type="text" id="output" disabled>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(function() {
  // 音声認識APIを初期化します。
  var r = new webkitSpeechRecognition();

  // 音声認識イベントをハンドルします。
  r.onresult = function(event) {
    // 認識結果を取得します。
    var text = event.results[0].item(0).transcript;

    // テキストを翻訳します。
    var translator = new googleTranslate();
    var translation = translator.translate(text, 'ja');

    // 翻訳されたテキストを表示します。
    $("#output").val(translation);
  };

  // 録音ボタンをクリックしたときに音声認識を開始します。
  $("#record").click(function() {
    r.start();
  });
});
</script>
</body>
</html>

