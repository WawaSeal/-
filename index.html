<!DOCTYPE html>
<html>
<head>
<title>Real-time Japanese speech recognition</title>
<script src="https://pypi.python.org/pypi/SpeechRecognition/3.8.1/SpeechRecognition-3.8.1.min.js"></script>
<script>
$(function() {
  // 音声認識を初期化します。
  var r = new SpeechRecognition();

  // 音声認識イベントをハンドルします。
  r.onresult = function(event) {
    // 認識結果を取得します。
    var text = event.results[0].item(0).transcript;

    // テキストを表示します。
    $("#output").text(text);
  };

  // 録音ボタンをクリックしたときに音声認識を開始します。
  $("#record").click(function() {
    r.start();
    $("#record").val("録音中");
  });

  // 停止ボタンをクリックしたときに音声認識を停止します。
  $("#stop").click(function() {
    r.stop();
    $("#record").val("Record");
  });
});
</script>
<head>
<body>
<input type="button" id="record" value="聞き取り開始">
<input type="button" id="stop" value="聞き取り停止">
<div id="output"></div>
<body>
</html>
